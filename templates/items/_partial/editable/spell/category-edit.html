<li class="grid">
    <div class="col-5">{{localize 'SR5.SpellCategory'}}{{localize 'SR5.Colons'}}</div>
    {{#if (ne system.category "combat")}}
    <div class="col-4">
    {{else}}
    <div class="col-7">
    {{/if}}
        <select name="system.category" data-dtype="String" required>
            {{#select system.category}}
                <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                {{#each lists.spellCategories}}
                    <option value="{{@key}}">{{localize this}}</option>
                {{/each}}
            {{/select}}
        </select>
    </div>
    {{#if (ne system.category "combat")}}
    <div class="col-2 SR-TextRight">{{localize 'SR5.Opposed'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-1 SR-TextRight">
            <input type="checkbox" name="system.resisted" data-dtype="Boolean" {{checked system.resisted}} />
        </div>
    {{/if}}
</li>

{{#ife system.category "combat"}}
    <li class="grid">
        <div class="col-5">{{localize 'SR5.SpellTypeShort'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-7">
            <select name="system.subCategory" data-dtype="String" required>
                {{#select system.subCategory}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellCombatTypes}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
    </li>
    <li class="grid">
        <div class="col-5">{{localize 'SR5.DamageValue'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-7"><input type="number" data-dtype="Number" name="system.damageValue.base" value="{{system.damageValue.base}}" placeholder="0" /></div>
    </li>
    <li class="grid">
        <div class="col-5">{{localize 'SR5.DamageType'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-7">
            <select name="system.damageType" data-dtype="String" required>
                {{#select system.damageType}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.damageTypes}}
                        <option value="{{@key}}">{{findTranslation 'damageTypes' @key}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
    </li>
    <li class="grid">
        <div class="col-5">{{localize 'SR5.SpecialDamageType'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-7">
            <select name="system.damageElement" data-dtype="String" required>
                {{#select system.damageElement}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.specialDamageTypes}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
    </li>
{{/ife}}

{{#ife system.category "detection"}}
    <li class="grid">
        <div class="col-5">{{localize 'SR5.ExtendedRange'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-1"><input type="checkbox" name="system.spellAreaExtended" data-dtype="Boolean" {{checked system.spellAreaExtended}} /></div>
        <div class="col-3">
            <select name="system.subCategory" data-dtype="String" required>
                {{#select system.subCategory}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellDetectionTypes}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
        <div class="col-3">
            <select name="system.detectionSense" data-dtype="String" required>
                {{#select system.detectionSense}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellDetectionSens}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
    </li>
{{/ife}}

{{#ife system.category "manipulation"}}
    <li class="grid">
        <div class="col-5">{{localize 'SR5.SpellTypeManipulation'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-4">
            <select name="system.subCategory" data-dtype="String" required>
                {{#select system.subCategory}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellManipulationTypes}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
        <div class="col-2 SR-TextRight">{{localize 'SR5.Damaging'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-1 SR-TextRight">
            <input type="checkbox" name="system.manipulationDamaging" data-dtype="Boolean" {{checked system.manipulationDamaging}} />
        </div>
    </li>
{{/ife}}

{{#ife system.category "health"}}
    <li class="grid">
        <div class="col-5">{{localize 'SR5.Essence'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-7"><input type="checkbox" name="system.healthEssence" data-dtype="Boolean" {{checked system.healthEssence}} /></div>
    </li>
{{/ife}}

{{#ife system.category "illusion"}}
    <li class="grid">
        <div class="col-5">{{localize 'SR5.SpellTypeIllusion'}}{{localize 'SR5.Colons'}}</div>
        <div class="col-3">
            <select name="system.subCategory" data-dtype="String" required>
                {{#select system.subCategory}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellIllusionTypes}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
        <div class="col-4">
            <select name="system.illusionSense" data-dtype="{{system.illusionSense}}" required>
                {{#select system.illusionSense}}
                    <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                    {{#each lists.spellIllusionSens}}
                        <option value="{{@key}}">{{localize this}}</option>
                    {{/each}}
                {{/select}}
            </select>
        </div>
    </li>
{{/ife}}