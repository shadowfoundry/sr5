<div class="SR-PaddingTop10">
    <ul>
        <li class="grid SR-EnTete">
            <div class="col-12 SR-TextUppercase">{{localize 'SR5.OptionalPowers'}}</div>
        </li>
        {{#if_g data.itemRating "2"}}
        <li class="grid">
            <div class="col-5">{{localize 'SR5.OptionalPowers'}} 1{{localize 'SR5.Colons'}}</div>
            <div class="col-7">
                <select name="data.optionalPowers.power1" data-dtype="String" required>
                    {{#select data.optionalPowers.power1}}
                        <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                        {{#each (lookup lists (concat "spiritOptionalPowers" data.type))}}
                        <option value="{{@key}}">{{localize this}}</option>
                        {{/each}}
                    {{/select}}
                </select>
            </div>
        </li>
        {{/if_g}}
        {{#if_g data.itemRating "5"}}
        <li class="grid">
            <div class="col-5">{{localize 'SR5.OptionalPowers'}} 2{{localize 'SR5.Colons'}}</div>
            <div class="col-7">
                <select name="data.optionalPowers.power2" data-dtype="String" required>
                    {{#select data.optionalPowers.power2}}
                        <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                        {{#each (lookup lists (concat "spiritOptionalPowers" data.type))}}
                        {{#if (ne @key ../data.optionalPowers.power1)}}
                        <option value="{{@key}}">{{localize this}}</option>
                        {{/if}}
                        {{/each}}
                    {{/select}}
                </select>
            </div>
        </li>
        {{/if_g}}
        {{#if_g data.itemRating "8"}}
        <li class="grid">
            <div class="col-5">{{localize 'SR5.OptionalPowers'}} 3{{localize 'SR5.Colons'}}</div>
            <div class="col-7">
                <select name="data.optionalPowers.power3" data-dtype="String" required>
                    {{#select data.optionalPowers.power3}}
                        <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                        {{#each (lookup lists (concat "spiritOptionalPowers" data.type))}}
                        {{#if (and (ne @key ../data.optionalPowers.power1) (ne @key ../data.optionalPowers.power2))}}
                        <option value="{{@key}}">{{localize this}}</option>
                        {{/if}}
                        {{/each}}
                    {{/select}}
                </select>
            </div>
        </li>
        {{/if_g}}
        {{#if_g data.itemRating "11"}}
        <li class="grid">
            <div class="col-5">{{localize 'SR5.OptionalPowers'}} 4{{localize 'SR5.Colons'}}</div>
            <div class="col-7">
                <select name="data.optionalPowers.power4" data-dtype="String" required>
                    {{#select data.optionalPowers.power4}}
                        <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                        {{#each (lookup lists (concat "spiritOptionalPowers" data.type))}}
                        {{#if (and (ne @key ../data.optionalPowers.power1) (ne @key ../data.optionalPowers.power2) (ne @key ../data.optionalPowers.power3))}}
                        <option value="{{@key}}">{{localize this}}</option>
                        {{/if}}
                        {{/each}}
                    {{/select}}
                </select>
            </div>
        </li>
        {{/if_g}}
        {{#if_g data.itemRating "14"}}
        <li class="grid">
            <div class="col-5">{{localize 'SR5.OptionalPowers'}} 5{{localize 'SR5.Colons'}}</div>
            <div class="col-7">
                <select name="data.optionalPowers.power5" data-dtype="String" required>
                    {{#select data.optionalPowers.power5}}
                        <option class="SR-LightGreyColor" value="">{{localize 'SR5.ChooseOne'}}</option>
                        {{#each (lookup lists (concat "spiritOptionalPowers" data.type))}}
                        {{#if (and (ne @key ../data.optionalPowers.power1) (ne @key ../data.optionalPowers.power2) (ne @key ../data.optionalPowers.power3) (ne @key ../data.optionalPowers.power4))}}
                        <option value="{{@key}}">{{localize this}}</option>
                        {{/if}}
                        {{/each}}
                    {{/select}}
                </select>
            </div>
        </li>
        {{/if_g}}
    </ul>
</div>