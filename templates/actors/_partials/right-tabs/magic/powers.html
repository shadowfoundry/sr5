<!-- POWERS -->
<div class="SRBlockSheet">
	<ul>
		<li class="SR-LigneEnTete grid">
			<div class="col-4">
				<p class=" SR-TextUppercase ">{{localize 'SR5.Powers'}}</p>
			</div>
			<div class="col-1">
				<p class="SR-TextCenter" data-title="{{localize 'SR5.DicePool'}}">{{localize 'SR5.DicePoolShort'}}</p>
			</div>
			<div class="col-1">
				<p class="SR-TextCenter" data-title="{{localize 'SR5.PowerTypes'}}">{{localize 'SR5.PowerTypeShort'}}</p>
			</div>
			<div class="col-1">
				<p class="SR-TextCenter" data-title="{{localize 'SR5.PowerRange'}}">{{localize 'SR5.PowerRangeShort'}}</p>
			</div>
			<div class="col-2">
				<p class="SR-TextCenter" data-title="{{localize 'SR5.ActionType'}}">{{localize 'SR5.ActionTypeShort'}}</p>
			</div>
			<div class="col-2">
				<p class="SR-TextCenter" data-title="{{localize 'SR5.PowerDuration'}}">{{localize 'SR5.PowerDurationShort'}}</p>
			</div>
			<div class="col-1">
				{{#if owner}}
				<p class="SR-TextRight add-item" data-helpTitle="{{localize 'SR5.HELP_ItemAdd' key=(findTranslation 'itemTypes' 'itemPower')}}" 
				data-helpMessage="{{localize 'SR5.HELP_ItemAddMsg'}}">
					<a class="item-create" data-title="{{localize 'SR5.Add'}}" data-type="itemPower">
						<em class="fas fa-plus"></em>
					</a>
				</p>
				{{/if}}
			</div>
		</li>
		{{#each actor.powers}}
		<li class="item grid" data-item-id="{{_id}}" draggable="true">
			<div class="col-4 deplie" data-helpTitle="{{localize 'SR5.HELP_MoreInfos'}}" data-helpMessage="{{localize 'SR5.HELP_MoreInfosMsg'}}">
				{{#if (missing data.type data.range data.actionType data.duration)}}
				<p class="incomplete" data-title="{{localize 'SR5.UI_WarningMissingValues' type=(localize 'ITEM.TypePouvoir')}}">{{name}}</p>
				{{else}}
				<p>{{name}}</p>
				{{/if}}
			</div>
			{{#if (gt data.test.dicePool 0)}}
			<div class="col-1 roll-logo SR-TextCenter sr-roll" data-rolltype="power"
			  data-helpTitle="{{localize 'SR5.DicePool'}}"
			  data-helpMessage="{{localize 'SR5.HELP_PowerRollMsg'}}"
			  data-helpDetailsItem="data.test"
			  data-helpItemId="{{_id}}">
				{{data.test.dicePool}}
			</div>
			{{else}}
			<div class="col-1 SR-TextCenter">-</div>
			{{/if}}
			<div class="col-1">
				<p class="SR-TextCenter">{{valueOrDash (findTranslation 'spellTypesShort' data.type)}}</p>
			</div>
			<div class="col-1">
				<p class="SR-TextCenter">{{valueOrDash (findTranslation 'spellRangesShort' data.range)}}</p>
			</div>
			<div class="col-2">
				<p class="SR-TextCenter">{{valueOrDash (findTranslation 'actionTypes' data.actionType)}}</p>
			</div>
			<div class="col-2">
				<p class="SR-TextCenter">
					{{valueOrDash (findTranslation 'spellDurationsShort' data.duration)}}
					{{#if (ne data.duration 'instantaneous')}}
						{{#if data.isActive}}
						<a class="toggle-value" data-dtype="Boolean" data-item-id="{{_id}}" data-binding="data.isActive"
						data-helpTitle="{{localize 'SR5.HELP_PowerSustain' key=name}}"
						data-helpMessage="{{localize 'SR5.HELP_PowerSustainStopMsg'}}">
							<em class="fas fa-sm fa-praying-hands SR-SubColor"></em>
						</a>
						{{else}}
						<a class="toggle-value" data-dtype="Boolean" data-item-id="{{_id}}" data-binding="data.isActive"
						data-helpTitle="{{localize 'SR5.HELP_PowerSustain' key=name}}"
						data-helpMessage="{{localize 'SR5.HELP_PowerSustainMsg'}}">
							<em class="fas fa-sm fa-praying-hands"></em>
						</a>
						{{/if}}
					{{/if}}
				</p>
			</div>
			<div class="col-1 grid SR-TextRight">
				{{#if ../owner}}
				<a data-helpTitle="{{localize 'SR5.HELP_ItemManagement' key=name}}" data-helpMessage="{{localize 'SR5.HELP_ItemManagementMsg'}}">
					<em class="fas fa-sm fa-edit item-management"></em>
				</a>
				{{/if}}
			</div>
		</li>
		{{/each}}
	</ul>
</div>