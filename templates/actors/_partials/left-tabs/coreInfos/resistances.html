<!-- RESISTANCES -->
<div class="SRBlockSheet">
	<ul>
		<li class="grid SR-LigneEnTete">
			<div class="col-10 SR-TextUppercase">{{localize 'SR5.Resistances'}}</div>
			<div class="col-2 SR-TextCenter">{{localize 'SR5.DicePoolShort'}}</div>
		</li>
		{{#each system.resistances}}
		<li class="grid">
			{{#if (or (eq @key 'fatigue') (eq @key 'fall') (eq @key 'astralDamage'))}}
			{{else if (eq @key 'disease')}}
				<div class="col-10" data-helpTitle="{{localize 'SR5.HELP_ResistanceDiseaseChoice'}}" data-helpMessage="{{localize 'SR5.HELP_ResistanceDiseaseChoiceMsg'}}">
					<select name="system.sheetPreferences.selections.resistanceDisease" data-dtype="String">
						{{#select ../system.sheetPreferences.selections.resistanceDisease}}
						{{#each ../lists.propagationVectors}}
							<option value="{{@key}}">{{findTranslation 'characterResistances' @../key}} ({{findTranslation 'propagationVectors' @key}})</option>
						{{/each}}
						{{/select}}
					</select>
				</div>
				<div class="col-2 SR-TextCenter roll-logo sr-roll" data-rolltype="resistance" data-rollkey="disease_{{../system.sheetPreferences.selections.resistanceDisease}}"
				  data-helpTitle="{{localize 'SR5.HELP_Resistances' key=(findTranslation 'characterResistances' @key)}}"
				  data-helpMessage="{{localize 'SR5.HELP_ResistancesMsg'}}"
				  data-helpDetails="system.resistances.{{@key}}.{{../system.sheetPreferences.selections.resistanceDisease}}">
					{{#with (lookup @this ../system.sheetPreferences.selections.resistanceDisease)}}{{dicePool}}{{/with}}
				</div>
	
			{{else if (eq @key 'toxin')}}
				<div class="col-10" data-helpTitle="{{localize 'SR5.HELP_ResistanceToxinChoice'}}" data-helpMessage="{{localize 'SR5.HELP_ResistanceToxinChoiceMsg'}}">
					<select name="system.sheetPreferences.selections.resistanceToxin" data-dtype="String">
						{{#select ../system.sheetPreferences.selections.resistanceToxin}}
						{{#each ../lists.propagationVectors}}
							<option value="{{@key}}">{{findTranslation 'characterResistances' @../key}} ({{findTranslation 'propagationVectors' @key}})</option>
						{{/each}}
						{{/select}}
					</select>
				</div>
				<div class="col-2 SR-TextCenter roll-logo sr-roll" data-rolltype="resistance" data-rollkey="toxin_{{../system.sheetPreferences.selections.resistanceToxin}}"
				  data-helpTitle="{{localize 'SR5.HELP_Resistances' key=(findTranslation 'characterResistances' @key)}}"
				  data-helpMessage="{{localize 'SR5.HELP_ResistancesMsg'}}"
				  data-helpDetails="system.resistances.{{@key}}.{{../system.sheetPreferences.selections.resistanceToxin}}">
					{{#with (lookup @this ../system.sheetPreferences.selections.resistanceToxin)}}{{dicePool}}{{/with}}
				</div>
	
			{{else if (eq @key 'specialDamage')}}
				<div class="col-10" data-helpTitle="{{localize 'SR5.HELP_ResistanceSpecialDamageChoice'}}" data-helpMessage="{{localize 'SR5.HELP_ResistanceSpecialDamageChoiceMsg'}}">
					<select name="system.sheetPreferences.selections.resistanceSpecialDamage" data-dtype="String">
						{{#select ../system.sheetPreferences.selections.resistanceSpecialDamage}}
						{{#each ../lists.specialDamageTypes}}
							<option value="{{@key}}">{{findTranslation 'characterResistances' @../key}} ({{findTranslation 'specialDamageTypes' @key}})</option>
						{{/each}}
						{{/select}}
					</select>
				</div>
				<div class="col-2 SR-TextCenter roll-logo sr-roll" data-rolltype="resistance" data-rollkey="specialDamage_{{../system.sheetPreferences.selections.resistanceSpecialDamage}}"
				  data-helpTitle="{{localize 'SR5.HELP_Resistances' key=(findTranslation 'characterResistances' @key)}}"
				  data-helpMessage="{{localize 'SR5.HELP_ResistancesMsg'}}"
				  data-helpDetails="system.resistances.{{@key}}.{{../system.sheetPreferences.selections.resistanceSpecialDamage}}">
					{{#with (lookup @this ../system.sheetPreferences.selections.resistanceSpecialDamage)}}{{dicePool}}{{/with}}
				</div>
	
			{{else}}
				<div class="col-10">{{findTranslation 'characterResistances' @key}}</div>
				<div class="col-2 roll-logo SR-TextCenter sr-roll" data-rolltype="resistance" data-rollkey="{{@key}}"
				  data-helpTitle="{{localize 'SR5.HELP_Resistances' key=(findTranslation 'characterResistances' @key)}}"
				  data-helpMessage="{{localize 'SR5.HELP_ResistancesMsg'}}"
				  data-helpDetails="system.resistances.{{@key}}">
					{{dicePool}}
				</div>
			{{/if}}
		</li>
		{{/each}}
	</ul>
</div>